<!DOCTYPE html>
<html lang="ru">
<head>
  <meta charset="UTF-8">
  <title>Title</title>
</head>
<body style="background-color: #2b2b2b">
<script>
  // Задание #1 / Дополнительные задания недели 3 / Модуль 1. База JavaScript
  /*
  const groceries = {
    "73Wakv": {
      name: "Orange Juice",
      price: 1.5,
      discount: 10
    },
    "5L3db9": {
      name: "Chocolate",
      price: 2,
      discount: 0
    }
  }

  function getTotalPriceOfShoppingBag(shoppingBagArray) {
    const total = shoppingBagArray.reduce((acc, product) => {
      const getPrice = groceries[product.productId].price
      const getDiscount = groceries[product.productId].discount
      const totalPrice = (getPrice - getPrice * getDiscount / 100) * product.count

      return acc + totalPrice
    }, 0)

    return total.toFixed(2)
  }

  const shoppingBag = [
    {productId: "73Wakv", count: 3},
    {productId: "5L3db9", count: 23}
  ]

  const totalPrice = getTotalPriceOfShoppingBag(shoppingBag)
  console.log("totalPrice", totalPrice) // Возвращает 50.05
*/


  // Задание #2 / Дополнительные задания недели 3 / Модуль 1. База JavaScript
  /*
  function startGame(heroPlayer, enemyPlayer) {
    while (heroPlayer.health > 0 && enemyPlayer.health > 0) {
      if (getRandomNumberInRange(0, 1)) {
        heroPlayer.heatEnemy(enemyPlayer)
      } else {
        enemyPlayer.heatHero(heroPlayer)
      }
    }

    const {name, health} = heroPlayer.health > 0 ? heroPlayer : enemyPlayer
    alert(`${name} победил! У него осталось ${health} здоровья`)
  }

  const hero = {
    name: 'Batman',
    health: 100,
    heatEnemy: (enemy) => enemy.health -= 10
  }
  const enemy = {
    name: 'Joker',
    health: 100,
    heatHero: (hero) => hero.health -= 10
  }

  startGame(hero, enemy)

  function getRandomNumberInRange(min, max) {
    return Math.floor(Math.random() * (max - min + 1)) + min
  }
*/


  // Задание #3 / Дополнительные задания недели 3 / Модуль 1. База JavaScript
  /*
  function getKiller(suspectInfo, deadPeople) {
    const name = Object.keys(suspectInfo).filter(name => {
      return deadPeople.every(body => {
        return suspectInfo[name].includes(body)
      })
    })

    return `Убийца ${name}`
  }

  console.log(
    getKiller(
      {
        James: ["Jacob", "Bill", "Lucas"],
        Johnny: ["David", "Kyle", "Lucas"],
        Peter: ["Lucy", "Kyle"]
      },
      ["Lucas", "Bill"]
    )
  ) // Убийца James

  console.log(
    getKiller(
      {
        Brad: [],
        Megan: ["Ben", "Kevin"],
        Finn: []
      },
      ["Ben"]
    )
  ) // Убийца Megan
  */


  // Задание #4 / Дополнительные задания недели 3 / Модуль 1. База JavaScript
  /*
    function getWinner(applicants, winnerObject) {
      const num = Object.keys(applicants)
      const winner = applicants[num[getRandomNumberInRange(0, num.length)]]

      return {...winnerObject, ...winner}
    }

    const toDaysWinner = {
      prize: '10 000$',
    }

    const winnerApplicants = {
      '001': {
        name: 'Максим',
        age: 25,
      },
      '201': {
        name: 'Светлана',
        age: 20,
      },
      '304': {
        name: 'Екатерина',
        age: 35,
      },
    }

    const resultWinner = getWinner(winnerApplicants, toDaysWinner)
    console.log('resultWinner', resultWinner)

    // { prize: '10 000$', name: 'Максим', age: 25 }


    function getRandomNumberInRange(min, max) {
      return Math.floor(Math.random() * (max - min)) + min
    }
    */


  // Задание #5 / Дополнительные задания недели 3 / Модуль 1. База JavaScript
  const usersArray = [
    {id: '34rdca3eeb7f6fgeed471198', name: 'Andrew', age: 25},
    {id: '76rdca3eeb7f6fgeed471100', name: 'Alexey', age: 15},
    {id: '12rdca3eeb7f6fgeed4711012', name: 'Egor', age: 13},
    {id: '32rdca3eeb7f6fgeed471101', name: 'Kate', age: 31},
    {id: '98rdca3eeb7f6fgeed471102', name: 'Elena', age: 18}
  ]

  const usersObject = {
    '34rdca3eeb7f6fgeed471198': {
      id: '34rdca3eeb7f6fgeed471198',
      name: 'Andrew',
      age: 25
    },
    '76rdca3eeb7f6fgeed471100': {
      id: '76rdca3eeb7f6fgeed471100',
      name: 'Alexey',
      age: 15
    },
    '12rdca3eeb7f6fgeed4711012': {
      id: '12rdca3eeb7f6fgeed4711012',
      name: 'Egor',
      age: 13
    },
    '32rdca3eeb7f6fgeed471101': {
      id: '32rdca3eeb7f6fgeed471101',
      name: 'Kate',
      age: 31
    },
    '98rdca3eeb7f6fgeed471102': {
      id: '98rdca3eeb7f6fgeed471102',
      name: 'Elena',
      age: 18
    }
  }


  function getAdultUsers(users) {
    let adultUsers

    if (Array.isArray(users)) {
      adultUsers = users.filter(instance => instance.age >= 18)
    } else {
      const asArray = Object.entries(users)
      const filtered = asArray.filter(([_, value]) => value.age >= 18)
      adultUsers = Object.fromEntries(filtered)
    }

    return adultUsers
  }

  console.log(getAdultUsers(usersArray))
  /*
  [
    { id: '34rdca3eeb7f6fgeed471198', name: 'Andrew', age: 25 },
    { id: '32rdca3eeb7f6fgeed471101', name: 'Kate', age: 31 },
    { id: '98rdca3eeb7f6fgeed471102', name: 'Elena', age: 18 }
  ]
  */

  console.log(getAdultUsers(usersObject))
  //console.log(getAdultUsers2(usersObject))
  /*
  {
    '34rdca3eeb7f6fgeed471198': {
    id: '34rdca3eeb7f6fgeed471198',
    name: 'Andrew',
    age: 25
    },
    '32rdca3eeb7f6fgeed471101': {
    id: '32rdca3eeb7f6fgeed471101',
    name: 'Kate',
    age: 31
    },
    '98rdca3eeb7f6fgeed471102': {
    id: '98rdca3eeb7f6fgeed471102',
    name: 'Elena',
    age: 18
    }
  }
  */
</script>
</body>
</html>
